<!DOCTYPE html>
<html>
    <head>
        <title>Sanara</title>
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <link rel="stylesheet" type="text/css" href="css/documentation.css">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans"/>
        <script type="text/javascript" src="js/documentation.js"></script>
        <meta property="og:title" content="Sanara"/>
        <meta property="og:description" content="Developer documentation"/>
        <meta property="og:image" content="https://sanara.zirk.eu/img/Sanara.png"/>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"/>
    </head>
    <body>
        <ul id="menu">
            <li><a href="index.html"><i class="fa-solid fa-arrow-left"></i></a></li>
        </ul>
        <div>
            You can contribute to either Sanara or this website from their GitHub, feel free to open pull requests and issues if you need to:
            <ul>
                <li><a href="https://github.com/Xwilarg/Sanara">Sanara</a></li>
                <li><a href="https://github.com/Xwilarg/Sanara-Website">Sanara-Website</a></li>
            </ul>
            <br/><hr/><br/>
            <h3 onclick="trigger('Clone')">Using Sanara by cloning the repository<span id="rightClone" class="right">▼</span></h3>
            <span id="explanationClone" hidden>
                At first you'll need to clone <a href="https://github.com/Xwilarg/Sanara">Sanara repository</a>:<br>
                <pre>
git clone https://github.com/Xwilarg/Sanara.git
                </pre>
                You will then need to install rethinkdb, which is what the bot used for its database: <a href="https://rethinkdb.com/docs/install/">https://rethinkdb.com/docs/install/</a>
                Then you can build the bot, but before starting you'll need to add the credentials for the various services<br/>
                For that, go next to the executable (by default: Sanara/bin/Debug/net8.0) and create a folder called "Keys", inside create a file called "Credentials.json"<br/>
                This file will contains all your keys, stored in JSON format<br/>
                Only "BotToken" is mandatory, it'll contain your bot token that you can find on the <a href="https://discordapp.com/developers/applications/">Discord developper portail</a><br/><br/>
                Others fields are:
                <ul>
                    <li>UploadWebsiteUrl: URL of the website used for download doujinshi/cosplay commands</li>
                    <li>UploadWebsiteLocation: Local folder associated to UploadWebsiteUrl</li>
                    <li>SentryKey: Sentry.io token, used for automatic crash report</li>
                    <li>TopGgToken: Top.gg token, update guild count there</li>
                    <li>MyDramaListApiKey: Token used for Drama command</li>
                    <li>DebugGuild: ID of the guild you used to test stuff, if given, slash commands when only be created in this guild when the debugger is attached</li>
                    <li>GoogleProjectId: ID of the Google project for Translation and Vision</li>
                </ul>
                For all Google related services (Translation and Vision), you'll also need the JSON created from their developer page, put it in the Keys/ folder and rename it GoogleAPI.json
                <br/>
            </span>
            <br/><hr/><br/>
            <h3 onclick="trigger('Improve')">Improving Sanara<span id="rightImprove" class="right">▼</span></h3>
            <span id="explanationImprove" hidden>
                All contribution to Sanara are greatly appreciated, to do so, start by cloning the bot as described in the previous step
                Here is some explanation of what you can find inside the Sanara/ folder:
                <ul>
                    <li>Database: Contains all functions that interact with the database</li>
                    <li>Diaporama: Diaporama allows a command to display an embed containing a list of data, in which you can naviguate using buttons</li>
                    <li>Exception: Custom exceptions used within Sanara</li>
                    <ul>
                        <li>CommandFailed: Thrown when something failed within a command (like an invalid parameter value), caught and then show an error to the user</li>
                        <li>GameLost: Used within the game module, make the current game to fail</li>
                        <li>InvalidGameAnswer: Used within the game module, indicate that the current user answer is invalid</li>
                    </ul>
                    <li>Game: Sanara's game module</li>
                    <ul>
                        <li>Impl: Implementation of the games</li>
                        <li>MultiplayerMode: Implementation of different way that multiplayer can be handled</li>
                        <li>PostMode: Implementation of how messages must be sent on Discord</li>
                        <li>PostMode: Implementation of how messages must be sent on Discord</li>
                        <li>Preload: Allows to preload data when the bot start and keep them in cache</li>
                    </ul>
                    <li>Help: Export of Help information for this website</li>
                    <li>LanguageResource: JSON files used to convert Romaji from/to Hiragana/Katakana</li>
                    <li>Module: All commands of Sanara split into various modules</li>
                    <li>Subscription: Subscription follow a service and post message in a channel everytimes a new information is available</li>
                    <li>Constants.cs: Some constants used in the whole code</li>
                    <li>Credentials.cs: Deserialisation of Keys/Credentials.json</li>
                    <li>Log.cs: Format and log messages, including errors</li>
                    <li>Program.cs: Entry point and core of the bot</li>
                    <li>Utils.cs: Static methods that are used at various places in the code</li>
                </ul>
            </span>
        </div>
    </body>
    <footer>
        Sanara is a service made available under the <a href="https://github.com/Xwilarg/Sanara/blob/master/LICENSE">GNU General Public License v3.0</a>, by using it you accept our <a href="terms.html">Terms of Services</a> and <a href="privacy.html">Privacy Policy</a>
    </footer>
</html>
